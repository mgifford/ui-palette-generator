const fs=require('fs'); const {JSDOM}=require('jsdom'); const html=fs.readFileSync('docs/index.html','utf8'); const dom=new JSDOM(html,{runScripts:'dangerously', resources:'usable'}); setTimeout(()=>{ const doc=dom.window.document; const seedPicker=doc.getElementById('seedPicker'); console.log('seedPicker exists?', !!seedPicker); const rootStyle=dom.window.getComputedStyle(doc.documentElement); console.log('--seed inline before:', doc.documentElement.style.getPropertyValue('--seed')); if(seedPicker){ seedPicker.value='#336699'; seedPicker.dispatchEvent(new dom.window.Event('input',{bubbles:true})); setTimeout(()=>{ console.log('--seed inline after:', doc.documentElement.style.getPropertyValue('--seed')); console.log('computed --color-card:', rootStyle.getPropertyValue('--color-card').trim()); console.log('computed --color-accentNonContentStrong:', rootStyle.getPropertyValue('--color-accentNonContentStrong').trim()); process.exit(0); },120); } else { process.exit(0);} },250);